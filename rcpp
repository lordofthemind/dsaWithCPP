#!/bin/bash

# Check if a file is provided
if [ -z "$1" ]; then
    echo "Usage: $0 <cpp_file>"
    exit 1
fi

# Extract the file name without extension
filename=$(basename "$1" .cpp)

# Check if the file exists
if [ ! -f "$1" ]; then
    echo "Error: File '$1' not found!"
    exit 1
fi

# Compile the program
echo "Compiling $1..."
g++ -std=c++20 -Wall -Wextra -o "$filename" "$1"

# Check if compilation was successful
if [ $? -eq 0 ]; then
    echo "Compilation successful! Running $filename..."
    ./"$filename"
else
    echo "Compilation failed!"
    exit 1
fi